var clickedLocation="";ContactPop={replaceHref:"",formPhpLocation:"contact-pop.php",contactHeadline:"Contact",headerBgColor:"#fff",overlayFadeIn:600,overlayFadeOut:500,overlayEasing:"",openButtonSelector:".contact",closeButtonSelector:".close-overlay",resetFormEachTime:1,fadeOverlayIE:0,fadeOverlayIE6:0,obj:{},formFields:{},submitEvent:0,overlayFade:1,appendOverlay:function(){ContactPop.obj.overlay=jQuery('<div id="contact-pop-overlay"></div>').appendTo(jQuery("BODY")),ContactPop.obj.panelWrapper=jQuery('<div id="contact-pop-panel-wrapper"></div>').appendTo(ContactPop.obj.overlay),ContactPop.obj.panel=jQuery('<div id="contact-pop-panel"></div>').appendTo(ContactPop.obj.panelWrapper),ContactPop.obj.panelHeadline=$('<h2 id="contact-pop-header"><span>'+ContactPop.contactHeadline+" "+clickedLocation+"</span></h2>").appendTo(ContactPop.obj.panel),ContactPop.obj.panelHeadline.append('<a href="#" class="close-overlay">X</a></h2>'),ContactPop.obj.form=jQuery('<form action="'+ContactPop.formPhpLocation+'" method="get" id="contact-pop-form"></div>').appendTo(ContactPop.obj.panel),ContactPop.obj.loading=jQuery('<div id="contact-pop-loading-gif-wrapper"></div>').appendTo(ContactPop.obj.panel),ContactPop.obj.loading.append('<img src="assets/images/ajax-loader.gif" alt="" id="contact-pop-loading-gif" />')},getFormContent:function(){jQuery.get(ContactPop.formPhpLocation,{ajaxForm:1},function(o){o&&(ContactPop.obj.loading.fadeOut(200),ContactPop.obj.form.html(o),ContactPop.attachFormEvents())})},attachFormEvents:function(){jQuery(ContactPop.closeButtonSelector,ContactPop.obj.panel).click(function(o){o.preventDefault(),ContactPop.hideOverlay()}),jQuery.browser.msie?jQuery("input.submit",ContactPop.obj.form).click(function(o){o.preventDefault(),ContactPop.submitForm()}):ContactPop.submitEvent||(ContactPop.obj.form.submit(function(o){o.preventDefault(),ContactPop.submitForm()}),ContactPop.submitEvent=1)},checkOverlayFade:function(){return!$.browser.msie||ContactPop.fadeOverlayIE||$.browser.version<7&&ContactPop.fadeOverlayIE6?!0:!1},showOverlay:function(){"undefined"==typeof ContactPop.obj.overlay||jQuery(ContactPop.obj.overlay).is(":hidden")?(ContactPop.appendOverlay(),ContactPop.getFormContent()):ContactPop.resetFormEachTime&&ContactPop.getFormContent(),ContactPop.overlayFade?ContactPop.obj.overlay.fadeIn(ContactPop.overlayFadeOut,ContactPop.overlayEasing):ContactPop.obj.overlay.show()},hideOverlay:function(){ContactPop.overlayFade?ContactPop.obj.overlay.fadeOut(ContactPop.overlayFadeIn,ContactPop.overlayEasing):ContactPop.obj.overlay.hide(),ContactPop.obj.overlay.remove()},submitForm:function(){jQuery("input, select, textarea",ContactPop.obj.form).each(function(){ContactPop.addFormField(jQuery(this))}),ContactPop.formFields.ajaxForm=1,ContactPop.obj.form.fadeOut(200),ContactPop.obj.loading.fadeIn(200),jQuery.post(ContactPop.formPhpLocation,ContactPop.formFields,function(o){o&&(ContactPop.obj.form.html(o),ContactPop.obj.loading.fadeOut(200),ContactPop.obj.form.fadeIn(200),ContactPop.attachFormEvents())})},addFormField:function(o){var t=o.attr("name");t&&(ContactPop.formFields[t]=o.val())},init:function(){var o="";"object"!=typeof ContactPop.replaceHref&&(ContactPop.replaceHref=[ContactPop.replaceHref]);for(var t=0;t<ContactPop.replaceHref.length;t++)ContactPop.replaceHref[t]&&(o+="a[href="+ContactPop.replaceHref[t]+"], ");ContactPop.openButtonSelector?o+=ContactPop.openButtonSelector:o=o.substr(0,o.length-2),ContactPop.obj.ctas=jQuery(o),ContactPop.obj.ctas.click(function(o){o.preventDefault(),clickedLocation=jQuery(this).html(),ContactPop.showOverlay()}),ContactPop.overlayFade=ContactPop.checkOverlayFade();var a=new Image;a.src=jQuery.browser.msie&&jQuery.browser.version<7?"assets/images/overlay-ie6.png":"assets/images/overlay.png"}},jQuery(function(){ContactPop.init()});